# 中文数字转换支持库
# ChineseNumPro
## 简介
> chinesenumpro用于中文数字表示法与阿拉伯数字表示法的转换.核心部分,使用数组表示有效数字和数量单位,突破了其他npm包使用number类型算数取模的粗暴方法带来的位数限制(最多支持16位),同时采用了更优化算法,不需要算数取模,算数整除等算术运算,速度更快bug更少.此npm包广泛支持各种中文数字表示方法,提供配置参数可供用户精准定制转换后的结果.在处理用户输入数据的时候使用正则表达式过滤非法输入符号,增强了程序的鲁棒性.
## 此npm包支持中文表示法:
> 支持正负号
> 简体中文数字
> 繁体中文数字
> 金融人民币金额大写简(繁)中文数字
> 口语简(繁)中文数字
> 中国军用数字表示
> 国标数字单位格式化
> 日韩台等地区数字单位格式化
> 普通常规数字单位格式化

## 用法
``` javascript
import {numToChinanumerals,chinanumeralsToNum} from chinesenumpro
numToChinanumerals(num:number | string | bigint = 0,option:object)
chinanumeralsToNum(num:string = "",option:object)
```

## 参数说明
**num**
- num:string 可选,默认为0
- num:[number | string | bigint]
  
**option**
- option :object *可选,默认为`{format:normal,base:normal}`*
```typescript
interface option{
  format:string,
  base?:string
}
```
- format = ['normal'|'cn'|'CN'|'army'|'ARMY'|'money'|'MONEY'|spoken]
- base = ['normal'|'gb'|'tw'] *可选,默认为`base:normal`*

## 测试

常规测试(满足日常需求)

eg: 
```javascript
numToChinanumerals('12345678901234567890')
```
```json
输入 2020020200
输出 二十亿二千零二万零二百
输入 1000200010
输出 十亿零二十万零一十
输入 202020000
输出 二亿零二百零二万
输入 102310101010001200000020
输出 一千零二十三万亿亿一千零一十亿亿一千零一十万亿零十二亿零二十
输入 10100000000000000020
输出 一千零一十亿亿零二十
输入 12345678901234567890
输出 一千二百三十四亿亿五千六百七十八万亿九千零一十二亿三千四百五十六万七千八百九十
输入 705485621320500230020
输出 七万亿亿零五百四十八亿亿五千六百二十一万亿三千二百零五亿零二十三万零二十
输入 10020202000
输出 一百亿二千零二十万二千
输入 10101010
输出 一千零一十万一千零一十
输入 10
输出 十
输入 0
输出 零
```
简繁输入测试(需要指定option的format字段)

eg:
```javascript
numToChinanumerals('705485621320500230020',{format:'cn'})
```
```json
输入 102310101010001200000020
输出 一千〇二十三万亿亿一千〇一十亿亿一千〇一十万亿〇十二亿〇二十
输出 壹仟零貳拾叁萬億億壹仟零壹拾億億壹仟零壹拾萬億零拾貳億零貳拾
输入 10100000000000000020
输出 一千〇一十亿亿〇二十
输出 壹仟零壹拾億億零貳拾
输入 705485621320500230020
输出 七万亿亿〇五百四十八亿亿五千六百二十一万亿三千二百〇五亿〇二十三万〇二十
输出 柒萬億億零伍佰肆拾捌億億伍仟陆佰貳拾壹萬億叁仟貳佰零伍億零貳拾叁萬零貳拾
输入 10
输出 十
输出 拾
输入 0
输出 〇
输出 零
```

## 注意
1. option 的format字段严格遵循大小写,如果需要简体就用小写,需要繁体就用大写例如{format:'MONEY'}/{format:'army'},千万不能写成Money/aRmY一定会报错.当然缺省属性normal和口语化附加属性spoken除外,只要是spoken这个单词就行不在乎字母大小写.
2. format:'normal'或缺省format字段时其为默认输出样式,输出结果与format:'cn'输出结果类似,只是format:'cn'输出结果用'〇'表示,不太自然,除非你需要用'〇'表示0,此时使用format:'cn'即可.
3. spoken 表示口语化输出, 本质差别为口语中部分量词'2'读作'两'而不说'二',例如:'我的车买的时候花了二十万.我的MacbookPro原价两万多.在场两千多人.我兜里只剩二百块千'等等此时虽然都是数字'2'但却有不同的读法,算是中文口语特色了.spoken属性为附加属性,一般不单独使用.使用时需要与'normal','cn','CN'一起出现组成format:'normal spoken',format:'cn spoken',format:'CN spoken',原理上可以与money或MONEY同时使用format:'money spoken',用于收款播报读音.但是,一般需要转换成人民币金额的情况直接使用format:'money'或format:'MONEY'即可.
4. 理论上使用数组表示数字可以无限长度,但是根据实际情况和现实世界可观测数量级这里设置上限24位数字,数字再长程序写着费劲,也没有意义毕竟目前已观测星星也仅有一千亿多颗,全球美元总量也仅有13万亿多元.相对24位10进制数来讲可真是个大数了.

## 优势

* 基于字符串和数组模拟大数,突破JavaScript内置number类型运算极限,内部算法优化,减少重复操作次数,相对于数学除法和取模运算,访问一个最大长度才12位的数组运算量小得多.各种极限测试降低bug出现概率.

* 相对于现存的npm库,功能更全面,运算速度快,bug少,支持最大长度长,可扩展性好,最最重要一点使用TypeScript编写(面向TypeScript,就是面向未来),自动生成.d.ts类型标注文件,可以更好适应使用TypeScript开发.